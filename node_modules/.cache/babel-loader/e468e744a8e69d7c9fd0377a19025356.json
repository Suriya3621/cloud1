{"ast":null,"code":"\"use client\";\n\nimport { useFocusRing as le } from \"@react-aria/focus\";\nimport { useHover as ue } from \"@react-aria/interactions\";\nimport R, { Fragment as q, createContext as pe, createRef as z, useContext as de, useEffect as me, useMemo as G, useReducer as ce, useRef as Y } from \"react\";\nimport { flushSync as O } from \"react-dom\";\nimport { useActivePress as fe } from '../../hooks/use-active-press.js';\nimport { useDidElementMove as Te } from '../../hooks/use-did-element-move.js';\nimport { useDisposables as ye } from '../../hooks/use-disposables.js';\nimport { useElementSize as ge } from '../../hooks/use-element-size.js';\nimport { useEvent as A } from '../../hooks/use-event.js';\nimport { useId as U } from '../../hooks/use-id.js';\nimport { useInertOthers as Ie } from '../../hooks/use-inert-others.js';\nimport { useIsoMorphicEffect as H } from '../../hooks/use-iso-morphic-effect.js';\nimport { useOnDisappear as Me } from '../../hooks/use-on-disappear.js';\nimport { useOutsideClick as Ae } from '../../hooks/use-outside-click.js';\nimport { useOwnerDocument as Pe } from '../../hooks/use-owner.js';\nimport { useResolveButtonType as Se } from '../../hooks/use-resolve-button-type.js';\nimport { useScrollLock as be } from '../../hooks/use-scroll-lock.js';\nimport { useSyncRefs as N } from '../../hooks/use-sync-refs.js';\nimport { useTextValue as Ee } from '../../hooks/use-text-value.js';\nimport { useTrackedPointer as Re } from '../../hooks/use-tracked-pointer.js';\nimport { transitionDataAttributes as ve, useTransition as xe } from '../../hooks/use-transition.js';\nimport { useTreeWalker as _e } from '../../hooks/use-tree-walker.js';\nimport { FloatingProvider as De, useFloatingPanel as he, useFloatingPanelProps as Ce, useFloatingReference as Fe, useFloatingReferenceProps as Oe, useResolvedAnchor as Le } from '../../internal/floating.js';\nimport { OpenClosedProvider as Ge, State as k, useOpenClosed as Ue } from '../../internal/open-closed.js';\nimport { isDisabledReactIssue7711 as He } from '../../utils/bugs.js';\nimport { Focus as I, calculateActiveIndex as K } from '../../utils/calculate-active-index.js';\nimport { disposables as Ne } from '../../utils/disposables.js';\nimport { Focus as Z, FocusableMode as ke, focusFrom as Be, isFocusableElement as we, restoreFocusIfNecessary as ee, sortByDomNode as Ke } from '../../utils/focus-management.js';\nimport { match as te } from '../../utils/match.js';\nimport { RenderFeatures as ne, forwardRefWithAs as v, mergeProps as re, render as x } from '../../utils/render.js';\nimport { useDescriptions as We } from '../description/description.js';\nimport { Keys as T } from '../keyboard.js';\nimport { useLabelContext as je, useLabels as oe } from '../label/label.js';\nimport { Portal as Qe } from '../portal/portal.js';\nvar Je = (r => (r[r.Open = 0] = \"Open\", r[r.Closed = 1] = \"Closed\", r))(Je || {}),\n  Ve = (r => (r[r.Pointer = 0] = \"Pointer\", r[r.Other = 1] = \"Other\", r))(Ve || {}),\n  Xe = (n => (n[n.OpenMenu = 0] = \"OpenMenu\", n[n.CloseMenu = 1] = \"CloseMenu\", n[n.GoToItem = 2] = \"GoToItem\", n[n.Search = 3] = \"Search\", n[n.ClearSearch = 4] = \"ClearSearch\", n[n.RegisterItem = 5] = \"RegisterItem\", n[n.UnregisterItem = 6] = \"UnregisterItem\", n))(Xe || {});\nfunction W(e, a = r => r) {\n  let r = e.activeItemIndex !== null ? e.items[e.activeItemIndex] : null,\n    i = Ke(a(e.items.slice()), l => l.dataRef.current.domRef.current),\n    o = r ? i.indexOf(r) : null;\n  return o === -1 && (o = null), {\n    items: i,\n    activeItemIndex: o\n  };\n}\nlet $e = {\n    [1](e) {\n      return e.menuState === 1 ? e : {\n        ...e,\n        activeItemIndex: null,\n        menuState: 1\n      };\n    },\n    [0](e) {\n      return e.menuState === 0 ? e : {\n        ...e,\n        __demoMode: !1,\n        menuState: 0\n      };\n    },\n    [2]: (e, a) => {\n      var l, p, n, u, c;\n      if (e.menuState === 1) return e;\n      let r = {\n        ...e,\n        searchQuery: \"\",\n        activationTrigger: (l = a.trigger) != null ? l : 1,\n        __demoMode: !1\n      };\n      if (a.focus === I.Nothing) return {\n        ...r,\n        activeItemIndex: null\n      };\n      if (a.focus === I.Specific) return {\n        ...r,\n        activeItemIndex: e.items.findIndex(t => t.id === a.id)\n      };\n      if (a.focus === I.Previous) {\n        let t = e.activeItemIndex;\n        if (t !== null) {\n          let d = e.items[t].dataRef.current.domRef,\n            f = K(a, {\n              resolveItems: () => e.items,\n              resolveActiveIndex: () => e.activeItemIndex,\n              resolveId: m => m.id,\n              resolveDisabled: m => m.dataRef.current.disabled\n            });\n          if (f !== null) {\n            let m = e.items[f].dataRef.current.domRef;\n            if (((p = d.current) == null ? void 0 : p.previousElementSibling) === m.current || ((n = m.current) == null ? void 0 : n.previousElementSibling) === null) return {\n              ...r,\n              activeItemIndex: f\n            };\n          }\n        }\n      } else if (a.focus === I.Next) {\n        let t = e.activeItemIndex;\n        if (t !== null) {\n          let d = e.items[t].dataRef.current.domRef,\n            f = K(a, {\n              resolveItems: () => e.items,\n              resolveActiveIndex: () => e.activeItemIndex,\n              resolveId: m => m.id,\n              resolveDisabled: m => m.dataRef.current.disabled\n            });\n          if (f !== null) {\n            let m = e.items[f].dataRef.current.domRef;\n            if (((u = d.current) == null ? void 0 : u.nextElementSibling) === m.current || ((c = m.current) == null ? void 0 : c.nextElementSibling) === null) return {\n              ...r,\n              activeItemIndex: f\n            };\n          }\n        }\n      }\n      let i = W(e),\n        o = K(a, {\n          resolveItems: () => i.items,\n          resolveActiveIndex: () => i.activeItemIndex,\n          resolveId: t => t.id,\n          resolveDisabled: t => t.dataRef.current.disabled\n        });\n      return {\n        ...r,\n        ...i,\n        activeItemIndex: o\n      };\n    },\n    [3]: (e, a) => {\n      let i = e.searchQuery !== \"\" ? 0 : 1,\n        o = e.searchQuery + a.value.toLowerCase(),\n        p = (e.activeItemIndex !== null ? e.items.slice(e.activeItemIndex + i).concat(e.items.slice(0, e.activeItemIndex + i)) : e.items).find(u => {\n          var c;\n          return ((c = u.dataRef.current.textValue) == null ? void 0 : c.startsWith(o)) && !u.dataRef.current.disabled;\n        }),\n        n = p ? e.items.indexOf(p) : -1;\n      return n === -1 || n === e.activeItemIndex ? {\n        ...e,\n        searchQuery: o\n      } : {\n        ...e,\n        searchQuery: o,\n        activeItemIndex: n,\n        activationTrigger: 1\n      };\n    },\n    [4](e) {\n      return e.searchQuery === \"\" ? e : {\n        ...e,\n        searchQuery: \"\",\n        searchActiveItemIndex: null\n      };\n    },\n    [5]: (e, a) => {\n      let r = W(e, i => [...i, {\n        id: a.id,\n        dataRef: a.dataRef\n      }]);\n      return {\n        ...e,\n        ...r\n      };\n    },\n    [6]: (e, a) => {\n      let r = W(e, i => {\n        let o = i.findIndex(l => l.id === a.id);\n        return o !== -1 && i.splice(o, 1), i;\n      });\n      return {\n        ...e,\n        ...r,\n        activationTrigger: 1\n      };\n    }\n  },\n  j = pe(null);\nj.displayName = \"MenuContext\";\nfunction B(e) {\n  let a = de(j);\n  if (a === null) {\n    let r = new Error(`<${e} /> is missing a parent <Menu /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(r, B), r;\n  }\n  return a;\n}\nfunction qe(e, a) {\n  return te(a.type, $e, e, a);\n}\nlet ze = q;\nfunction Ye(e, a) {\n  let {\n      __demoMode: r = !1,\n      ...i\n    } = e,\n    o = ce(qe, {\n      __demoMode: r,\n      menuState: r ? 0 : 1,\n      buttonRef: z(),\n      itemsRef: z(),\n      items: [],\n      searchQuery: \"\",\n      activeItemIndex: null,\n      activationTrigger: 1\n    }),\n    [{\n      menuState: l,\n      itemsRef: p,\n      buttonRef: n\n    }, u] = o,\n    c = N(a);\n  Ae(l === 0, [n, p], (S, b) => {\n    var y;\n    u({\n      type: 1\n    }), we(b, ke.Loose) || (S.preventDefault(), (y = n.current) == null || y.focus());\n  });\n  let d = A(() => {\n      u({\n        type: 1\n      });\n    }),\n    f = G(() => ({\n      open: l === 0,\n      close: d\n    }), [l, d]),\n    m = {\n      ref: c\n    };\n  return R.createElement(De, null, R.createElement(j.Provider, {\n    value: o\n  }, R.createElement(Ge, {\n    value: te(l, {\n      [0]: k.Open,\n      [1]: k.Closed\n    })\n  }, x({\n    ourProps: m,\n    theirProps: i,\n    slot: f,\n    defaultTag: ze,\n    name: \"Menu\"\n  }))));\n}\nlet Ze = \"button\";\nfunction et(e, a) {\n  var D;\n  let r = U(),\n    {\n      id: i = `headlessui-menu-button-${r}`,\n      disabled: o = !1,\n      autoFocus: l = !1,\n      ...p\n    } = e,\n    [n, u] = B(\"Menu.Button\"),\n    c = Oe(),\n    t = N(n.buttonRef, a, Fe()),\n    d = A(g => {\n      switch (g.key) {\n        case T.Space:\n        case T.Enter:\n        case T.ArrowDown:\n          g.preventDefault(), g.stopPropagation(), O(() => u({\n            type: 0\n          })), u({\n            type: 2,\n            focus: I.First\n          });\n          break;\n        case T.ArrowUp:\n          g.preventDefault(), g.stopPropagation(), O(() => u({\n            type: 0\n          })), u({\n            type: 2,\n            focus: I.Last\n          });\n          break;\n      }\n    }),\n    f = A(g => {\n      switch (g.key) {\n        case T.Space:\n          g.preventDefault();\n          break;\n      }\n    }),\n    m = A(g => {\n      var h;\n      if (He(g.currentTarget)) return g.preventDefault();\n      o || (n.menuState === 0 ? (O(() => u({\n        type: 1\n      })), (h = n.buttonRef.current) == null || h.focus({\n        preventScroll: !0\n      })) : (g.preventDefault(), u({\n        type: 0\n      })));\n    }),\n    {\n      isFocusVisible: S,\n      focusProps: b\n    } = le({\n      autoFocus: l\n    }),\n    {\n      isHovered: y,\n      hoverProps: E\n    } = ue({\n      isDisabled: o\n    }),\n    {\n      pressed: P,\n      pressProps: _\n    } = fe({\n      disabled: o\n    }),\n    C = G(() => ({\n      open: n.menuState === 0,\n      active: P || n.menuState === 0,\n      disabled: o,\n      hover: y,\n      focus: S,\n      autofocus: l\n    }), [n, y, S, P, o, l]),\n    F = re(c(), {\n      ref: t,\n      id: i,\n      type: Se(e, n.buttonRef),\n      \"aria-haspopup\": \"menu\",\n      \"aria-controls\": (D = n.itemsRef.current) == null ? void 0 : D.id,\n      \"aria-expanded\": n.menuState === 0,\n      disabled: o || void 0,\n      autoFocus: l,\n      onKeyDown: d,\n      onKeyUp: f,\n      onClick: m\n    }, b, E, _);\n  return x({\n    ourProps: F,\n    theirProps: p,\n    slot: C,\n    defaultTag: Ze,\n    name: \"Menu.Button\"\n  });\n}\nlet tt = \"div\",\n  nt = ne.RenderStrategy | ne.Static;\nfunction rt(e, a) {\n  var Q, J;\n  let r = U(),\n    {\n      id: i = `headlessui-menu-items-${r}`,\n      anchor: o,\n      portal: l = !1,\n      modal: p = !0,\n      transition: n = !1,\n      ...u\n    } = e,\n    c = Le(o),\n    [t, d] = B(\"Menu.Items\"),\n    [f, m] = he(c),\n    S = Ce(),\n    b = N(t.itemsRef, a, c ? f : null),\n    y = Pe(t.itemsRef);\n  c && (l = !0);\n  let E = Ue(),\n    [P, _] = xe(n, t.itemsRef, E !== null ? (E & k.Open) === k.Open : t.menuState === 0);\n  Me(P, t.buttonRef, () => {\n    d({\n      type: 1\n    });\n  });\n  let C = t.__demoMode ? !1 : p && t.menuState === 0;\n  be(C, y);\n  let F = t.__demoMode ? !1 : p && t.menuState === 0;\n  Ie(F, {\n    allowed: A(() => [t.buttonRef.current, t.itemsRef.current])\n  });\n  let D = t.menuState !== 0,\n    h = Te(D, t.buttonRef) ? !1 : P;\n  me(() => {\n    let s = t.itemsRef.current;\n    s && t.menuState === 0 && s !== (y == null ? void 0 : y.activeElement) && s.focus({\n      preventScroll: !0\n    });\n  }, [t.menuState, t.itemsRef, y, t.itemsRef.current]), _e(t.menuState === 0, {\n    container: t.itemsRef.current,\n    accept(s) {\n      return s.getAttribute(\"role\") === \"menuitem\" ? NodeFilter.FILTER_REJECT : s.hasAttribute(\"role\") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n    },\n    walk(s) {\n      s.setAttribute(\"role\", \"none\");\n    }\n  });\n  let w = ye(),\n    M = A(s => {\n      var V, X, $;\n      switch (w.dispose(), s.key) {\n        case T.Space:\n          if (t.searchQuery !== \"\") return s.preventDefault(), s.stopPropagation(), d({\n            type: 3,\n            value: s.key\n          });\n        case T.Enter:\n          if (s.preventDefault(), s.stopPropagation(), d({\n            type: 1\n          }), t.activeItemIndex !== null) {\n            let {\n              dataRef: se\n            } = t.items[t.activeItemIndex];\n            (X = (V = se.current) == null ? void 0 : V.domRef.current) == null || X.click();\n          }\n          ee(t.buttonRef.current);\n          break;\n        case T.ArrowDown:\n          return s.preventDefault(), s.stopPropagation(), d({\n            type: 2,\n            focus: I.Next\n          });\n        case T.ArrowUp:\n          return s.preventDefault(), s.stopPropagation(), d({\n            type: 2,\n            focus: I.Previous\n          });\n        case T.Home:\n        case T.PageUp:\n          return s.preventDefault(), s.stopPropagation(), d({\n            type: 2,\n            focus: I.First\n          });\n        case T.End:\n        case T.PageDown:\n          return s.preventDefault(), s.stopPropagation(), d({\n            type: 2,\n            focus: I.Last\n          });\n        case T.Escape:\n          s.preventDefault(), s.stopPropagation(), O(() => d({\n            type: 1\n          })), ($ = t.buttonRef.current) == null || $.focus({\n            preventScroll: !0\n          });\n          break;\n        case T.Tab:\n          s.preventDefault(), s.stopPropagation(), O(() => d({\n            type: 1\n          })), Be(t.buttonRef.current, s.shiftKey ? Z.Previous : Z.Next);\n          break;\n        default:\n          s.key.length === 1 && (d({\n            type: 3,\n            value: s.key\n          }), w.setTimeout(() => d({\n            type: 4\n          }), 350));\n          break;\n      }\n    }),\n    L = A(s => {\n      switch (s.key) {\n        case T.Space:\n          s.preventDefault();\n          break;\n      }\n    }),\n    ae = G(() => ({\n      open: t.menuState === 0\n    }), [t.menuState]),\n    ie = re(c ? S() : {}, {\n      \"aria-activedescendant\": t.activeItemIndex === null || (Q = t.items[t.activeItemIndex]) == null ? void 0 : Q.id,\n      \"aria-labelledby\": (J = t.buttonRef.current) == null ? void 0 : J.id,\n      id: i,\n      onKeyDown: M,\n      onKeyUp: L,\n      role: \"menu\",\n      tabIndex: t.menuState === 0 ? 0 : void 0,\n      ref: b,\n      style: {\n        ...u.style,\n        ...m,\n        \"--button-width\": ge(t.buttonRef, !0).width\n      },\n      ...ve(_)\n    });\n  return R.createElement(Qe, {\n    enabled: l ? e.static || P : !1\n  }, x({\n    ourProps: ie,\n    theirProps: u,\n    slot: ae,\n    defaultTag: tt,\n    features: nt,\n    visible: h,\n    name: \"Menu.Items\"\n  }));\n}\nlet ot = q;\nfunction at(e, a) {\n  let r = U(),\n    {\n      id: i = `headlessui-menu-item-${r}`,\n      disabled: o = !1,\n      ...l\n    } = e,\n    [p, n] = B(\"Menu.Item\"),\n    u = p.activeItemIndex !== null ? p.items[p.activeItemIndex].id === i : !1,\n    c = Y(null),\n    t = N(a, c);\n  H(() => {\n    if (!p.__demoMode && p.menuState === 0 && u && p.activationTrigger !== 0) return Ne().requestAnimationFrame(() => {\n      var M, L;\n      (L = (M = c.current) == null ? void 0 : M.scrollIntoView) == null || L.call(M, {\n        block: \"nearest\"\n      });\n    });\n  }, [p.__demoMode, c, u, p.menuState, p.activationTrigger, p.activeItemIndex]);\n  let d = Ee(c),\n    f = Y({\n      disabled: o,\n      domRef: c,\n      get textValue() {\n        return d();\n      }\n    });\n  H(() => {\n    f.current.disabled = o;\n  }, [f, o]), H(() => (n({\n    type: 5,\n    id: i,\n    dataRef: f\n  }), () => n({\n    type: 6,\n    id: i\n  })), [f, i]);\n  let m = A(() => {\n      n({\n        type: 1\n      });\n    }),\n    S = A(M => {\n      if (o) return M.preventDefault();\n      n({\n        type: 1\n      }), ee(p.buttonRef.current);\n    }),\n    b = A(() => {\n      if (o) return n({\n        type: 2,\n        focus: I.Nothing\n      });\n      n({\n        type: 2,\n        focus: I.Specific,\n        id: i\n      });\n    }),\n    y = Re(),\n    E = A(M => {\n      y.update(M), !o && (u || n({\n        type: 2,\n        focus: I.Specific,\n        id: i,\n        trigger: 0\n      }));\n    }),\n    P = A(M => {\n      y.wasMoved(M) && (o || u || n({\n        type: 2,\n        focus: I.Specific,\n        id: i,\n        trigger: 0\n      }));\n    }),\n    _ = A(M => {\n      y.wasMoved(M) && (o || u && n({\n        type: 2,\n        focus: I.Nothing\n      }));\n    }),\n    [C, F] = oe(),\n    [D, g] = We(),\n    h = G(() => ({\n      active: u,\n      focus: u,\n      disabled: o,\n      close: m\n    }), [u, o, m]);\n  return R.createElement(F, null, R.createElement(g, null, x({\n    ourProps: {\n      id: i,\n      ref: t,\n      role: \"menuitem\",\n      tabIndex: o === !0 ? void 0 : -1,\n      \"aria-disabled\": o === !0 ? !0 : void 0,\n      \"aria-labelledby\": C,\n      \"aria-describedby\": D,\n      disabled: void 0,\n      onClick: S,\n      onFocus: b,\n      onPointerEnter: E,\n      onMouseEnter: E,\n      onPointerMove: P,\n      onMouseMove: P,\n      onPointerLeave: _,\n      onMouseLeave: _\n    },\n    theirProps: l,\n    slot: h,\n    defaultTag: ot,\n    name: \"Menu.Item\"\n  })));\n}\nlet it = \"div\";\nfunction st(e, a) {\n  let [r, i] = oe();\n  return R.createElement(i, null, x({\n    ourProps: {\n      ref: a,\n      \"aria-labelledby\": r,\n      role: \"group\"\n    },\n    theirProps: e,\n    slot: {},\n    defaultTag: it,\n    name: \"Menu.Section\"\n  }));\n}\nlet lt = \"header\";\nfunction ut(e, a) {\n  let r = U(),\n    {\n      id: i = `headlessui-menu-heading-${r}`,\n      ...o\n    } = e,\n    l = je();\n  H(() => l.register(i), [i, l.register]);\n  let p = {\n    id: i,\n    ref: a,\n    role: \"presentation\",\n    ...l.props\n  };\n  return x({\n    ourProps: p,\n    theirProps: o,\n    slot: {},\n    defaultTag: lt,\n    name: \"Menu.Heading\"\n  });\n}\nlet pt = \"div\";\nfunction dt(e, a) {\n  return x({\n    ourProps: {\n      ref: a,\n      role: \"separator\"\n    },\n    theirProps: e,\n    slot: {},\n    defaultTag: pt,\n    name: \"Menu.Separator\"\n  });\n}\nlet mt = v(Ye),\n  ct = v(et),\n  ft = v(rt),\n  Tt = v(at),\n  yt = v(st),\n  gt = v(ut),\n  It = v(dt),\n  Zt = Object.assign(mt, {\n    Button: ct,\n    Items: ft,\n    Item: Tt,\n    Section: yt,\n    Heading: gt,\n    Separator: It\n  });\nexport { Zt as Menu, ct as MenuButton, gt as MenuHeading, Tt as MenuItem, ft as MenuItems, yt as MenuSection, It as MenuSeparator };","map":null,"metadata":{},"sourceType":"module"}