{"ast":null,"code":"import { ref, deleteObject } from \"firebase/storage\";\nimport { storage } from \"../../../App/Firebase.js\";\nimport axios from 'axios';\nconst backendUrl = process.env.REACT_APP_BACKEND_URL;\nconst deleteFile = async filePath => {\n  console.log('File path for deletion:', filePath);\n\n  // Create a reference to the file to delete\n  const fileRef = ref(storage, filePath.url);\n  try {\n    // Delete the file from Firebase Storage\n    const response = await axios.delete(`${backendUrl}/file/delete/${filePath._id}`);\n    console.log('Backend response:', response.data);\n    await deleteObject(fileRef);\n    console.log(\"File deleted from Firebase Storage successfully.\");\n\n    // Send a DELETE request to the backend\n  } catch (error) {\n    console.error(\"Error deleting file:\", error);\n  }\n};\nconst updateFile = async (filePath, data) => {\n  console.log('File path for deletion:', filePath);\n  try {\n    const response = await axios.put(`${backendUrl}/file/update/${filePath._id}`, data);\n    console.log('Backend response:', response.data);\n  } catch (error) {\n    console.error(\"Error editing file:\", error);\n  }\n};\nexport default deleteFile;","map":{"version":3,"names":["ref","deleteObject","storage","axios","backendUrl","process","env","REACT_APP_BACKEND_URL","deleteFile","filePath","console","log","fileRef","url","response","delete","_id","data","error","updateFile","put"],"sources":["/data/data/com.termux/files/home/cloud1/src/Components/Layout/SubComponent/Filemanage.js"],"sourcesContent":["import { ref, deleteObject } from \"firebase/storage\";\nimport { storage } from \"../../../App/Firebase.js\";\nimport axios from 'axios';\n\nconst backendUrl = process.env.REACT_APP_BACKEND_URL;\n\nconst deleteFile = async (filePath) => {\n  console.log('File path for deletion:', filePath);\n\n  // Create a reference to the file to delete\n  const fileRef = ref(storage, filePath.url);\n  try {\n    // Delete the file from Firebase Storage\n    const response = await axios.delete(`${backendUrl}/file/delete/${filePath._id}`);\n    console.log('Backend response:', response.data);\n    await deleteObject(fileRef);\n    console.log(\"File deleted from Firebase Storage successfully.\");\n\n    // Send a DELETE request to the backend\n  \n  } catch (error) {\n    console.error(\"Error deleting file:\", error);\n  }\n};\nconst updateFile =async(filePath,data)=>{\n  console.log('File path for deletion:', filePath);\n  try {\n    const response = await axios.put(`${backendUrl}/file/update/${filePath._id}`,data);\n    console.log('Backend response:', response.data);\n  } catch (error) {\n    console.error(\"Error editing file:\", error);\n  }\n}\nexport default deleteFile;"],"mappings":"AAAA,SAASA,GAAG,EAAEC,YAAY,QAAQ,kBAAkB;AACpD,SAASC,OAAO,QAAQ,0BAA0B;AAClD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB;AAEpD,MAAMC,UAAU,GAAG,MAAOC,QAAQ,IAAK;EACrCC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEF,QAAQ,CAAC;;EAEhD;EACA,MAAMG,OAAO,GAAGZ,GAAG,CAACE,OAAO,EAAEO,QAAQ,CAACI,GAAG,CAAC;EAC1C,IAAI;IACF;IACA,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,MAAM,CAAC,GAAGX,UAAU,gBAAgBK,QAAQ,CAACO,GAAG,EAAE,CAAC;IAChFN,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEG,QAAQ,CAACG,IAAI,CAAC;IAC/C,MAAMhB,YAAY,CAACW,OAAO,CAAC;IAC3BF,OAAO,CAACC,GAAG,CAAC,kDAAkD,CAAC;;IAE/D;EAEF,CAAC,CAAC,OAAOO,KAAK,EAAE;IACdR,OAAO,CAACQ,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAC9C;AACF,CAAC;AACD,MAAMC,UAAU,GAAE,MAAAA,CAAMV,QAAQ,EAACQ,IAAI,KAAG;EACtCP,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEF,QAAQ,CAAC;EAChD,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMX,KAAK,CAACiB,GAAG,CAAC,GAAGhB,UAAU,gBAAgBK,QAAQ,CAACO,GAAG,EAAE,EAACC,IAAI,CAAC;IAClFP,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEG,QAAQ,CAACG,IAAI,CAAC;EACjD,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdR,OAAO,CAACQ,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;EAC7C;AACF,CAAC;AACD,eAAeV,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}