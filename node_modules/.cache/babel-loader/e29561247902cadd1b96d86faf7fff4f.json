{"ast":null,"code":"import { useEffect as o } from \"react\";\nimport { disposables as u } from '../utils/disposables.js';\nimport { useLatestValue as c } from './use-latest-value.js';\nfunction m(s, n, l) {\n  let i = c(t => {\n    let e = t.getBoundingClientRect();\n    e.x === 0 && e.y === 0 && e.width === 0 && e.height === 0 && l();\n  });\n  o(() => {\n    if (!s) return;\n    let t = n === null ? null : n instanceof HTMLElement ? n : n.current;\n    if (!t) return;\n    let e = u();\n    if (typeof ResizeObserver != \"undefined\") {\n      let r = new ResizeObserver(() => i.current(t));\n      r.observe(t), e.add(() => r.disconnect());\n    }\n    if (typeof IntersectionObserver != \"undefined\") {\n      let r = new IntersectionObserver(() => i.current(t));\n      r.observe(t), e.add(() => r.disconnect());\n    }\n    return () => e.dispose();\n  }, [n, i, s]);\n}\nexport { m as useOnDisappear };","map":null,"metadata":{},"sourceType":"module"}