{"ast":null,"code":"import { useId as n } from \"react\";\nimport { DefaultMap as f } from '../utils/default-map.js';\nimport { createStore as u } from '../utils/store.js';\nimport { useIsoMorphicEffect as c } from './use-iso-morphic-effect.js';\nimport { useStore as l } from './use-store.js';\nlet p = new f(() => u(() => [], {\n  ADD(r) {\n    return this.includes(r) ? this : [...this, r];\n  },\n  REMOVE(r) {\n    let e = this.indexOf(r);\n    if (e === -1) return this;\n    let t = this.slice();\n    return t.splice(e, 1), t;\n  }\n}));\nfunction x(r, e) {\n  let t = p.get(e),\n    i = n(),\n    h = l(t);\n  if (c(() => {\n    if (r) return t.dispatch(\"ADD\", i), () => t.dispatch(\"REMOVE\", i);\n  }, [t, r]), !r) return !1;\n  let s = h.indexOf(i),\n    o = h.length;\n  return s === -1 && (s = o, o += 1), s === o - 1;\n}\nexport { x as useIsTopLayer };","map":null,"metadata":{},"sourceType":"module"}